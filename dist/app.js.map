{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./css/style.scss","webpack:///./js/adminbar.js","webpack:///./js/app.js","webpack:///./js/plugins.js","webpack:///./js/repo.js","webpack:///./node_modules/kontrl-popups/dist/Popup.js","webpack:///./node_modules/kontrl-popups/dist/default_template/DefaultTemplate.js","webpack:///./node_modules/kontrl-popups/dist/generic_popup/GenericPopup.js","webpack:///./node_modules/kontrl-popups/dist/generic_popup/GenericPopupItem.js","webpack:///./node_modules/kontrl-popups/dist/generic_popup/ImageItem.js","webpack:///./node_modules/kontrl-popups/dist/generic_popup/InputItem.js","webpack:///./node_modules/kontrl-popups/dist/popups.js","webpack:///./node_modules/kontrl-popups/style/dist/style.css"],"names":["EDIT_CLASS","editButton","document","querySelector","saveButton","addEventListener","body","classList","add","style","display","plugins","enable","remove","disable","_isEditing","context","updateSnippet","uploadAnyImage","uploadSnippetImage","debounce","func","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","setTimeout","popups","kontrlPopups","isEditing","__KONTRL_ADMIN_PLUGINS","pluginClass","push","forEach","p","name","value","page","PAGE_NAME","fetch","method","headers","JSON","stringify","imgFile","Promise","resolve","formData","FormData","append","then","response","json","url","err","purpose"],"mappings":"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AACXxC,oBAAkB,EAAlBA,kBADW;AAEXD,gBAAc,EAAdA,cAFW;AAGXD,eAAa,EAAbA;AAHW,CAAf,E;;;;;;;;;;;;ACpDa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC7Ba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,kBAAkB,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,kBAAkB,EAAE;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,wCAAwC,mBAAO,CAAC,kHAAqC;AACrF,8BAA8B,mBAAO,CAAC,4DAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,wEAAwE;AAChI;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kCAAkC;AAC1E;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC3Ea;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;AC9Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,yCAAyC,mBAAO,CAAC,+FAAoB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,yDAAyD,wBAAwB,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC/Ia;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,8EAA8E;AAC3G;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,yCAAyC,mBAAO,CAAC,+FAAoB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACpDa;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D;AACA,qCAAqC,mBAAO,CAAC,qGAA8B;AAC3E,kCAAkC,mBAAO,CAAC,+FAA2B;AACrE,kCAAkC,mBAAO,CAAC,+FAA2B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;ACtDA,uC","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// extracted by mini-css-extract-plugin","import plugins from \"./plugins\";\r\n\r\nconst EDIT_CLASS = \"simplecms--edit\";\r\n\r\nconst editButton = document.querySelector(\".simplecms__adminbar__button--edit\");\r\nconst saveButton = document.querySelector(\".simplecms__adminbar__button--save\");\r\n\r\neditButton.addEventListener(\"click\", () => {\r\n    document.body.classList.add(EDIT_CLASS);\r\n    editButton.style.display = \"none\";\r\n    saveButton.style.display = \"block\";\r\n    plugins.enable();\r\n});\r\n\r\nsaveButton.addEventListener(\"click\", () => {\r\n    document.body.classList.remove(EDIT_CLASS);\r\n    editButton.style.display = \"block\";\r\n    saveButton.style.display = \"none\";\r\n    plugins.disable();\r\n});\r\n\r\n\r\n","import \"../css/style.scss\";\r\nimport \"./adminbar\";\r\n\r\n","import \"kontrl-popups/style/dist/style.css\";\r\nimport kontrlPopups from \"kontrl-popups\";\r\nimport { updateSnippet, uploadAnyImage, uploadSnippetImage } from \"./repo\";\r\n\r\nlet _isEditing = false;\r\n\r\nconst context = {\r\n\tupdateSnippet,\r\n\tuploadAnyImage,\r\n\tuploadSnippetImage,\r\n\tdebounce(func, wait, immediate) {\r\n\t\tlet timeout;\r\n\t\t return function() {\r\n\t\t\tlet context = this, args = arguments;\r\n\t\t\tlet later = function() {\r\n\t\t\t\t timeout = null;\r\n\t\t\t\t if (!immediate) func.apply(context, args);\r\n\t\t\t};\r\n\t\t\tlet callNow = immediate && !timeout;\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\ttimeout = setTimeout(later, wait);\r\n\t\t\tif (callNow) func.apply(context, args);\r\n\t\t };\r\n\t},\r\n\tpopups: kontrlPopups,\r\n\tisEditing() {\r\n\t\t return _isEditing\r\n\t}\r\n};\r\n\r\nlet plugins = [];\r\n\r\nfor (let pluginClass of __KONTRL_ADMIN_PLUGINS) {\r\n\tplugins.push(new pluginClass(context));\r\n}\r\n\r\nexport default {\r\n\tenable() {\r\n\t\tplugins.forEach(p => p.enable());\r\n\t\t_isEditing = true;\r\n\t},\r\n\tdisable() {\r\n\t\tplugins.forEach(p => p.disable());\r\n\t\t_isEditing = false;\r\n\t}\r\n}\r\n","export function updateSnippet(name, value, page = PAGE_NAME) {\r\n    return fetch('/simplecms/update', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            page,\r\n            name,\r\n            value\r\n        })\r\n    })\r\n}\r\n\r\nexport function uploadSnippetImage(name, imgFile, page = PAGE_NAME) {\r\n    return new Promise((resolve) => {\r\n        const formData = new FormData();\r\n        formData.append('file', imgFile);\r\n        formData.append('page', page);\r\n        formData.append('name', name);\r\n\r\n        fetch(`/simplecms/upload`, {\r\n            method: \"POST\",\r\n            body: formData\r\n        }).then(response => {\r\n            response.json().then(response => {\r\n                resolve(response.url)\r\n            })\r\n        }).catch(err => {\r\n            // TODO: Show an error or something\r\n        })\r\n    })\r\n}\r\n\r\nexport function uploadAnyImage(imgFile, purpose) {\r\n    return new Promise((resolve) => {\r\n        const formData = new FormData();\r\n        formData.append('file', imgFile);\r\n\r\n        fetch(`/simplecms/upload/${purpose}`, {\r\n            method: \"POST\",\r\n            body: formData\r\n        }).then(response => {\r\n            response.json().then(response => {\r\n                resolve(response.url)\r\n            })\r\n        }).catch(err => {\r\n            // TODO: Show an error or smthng\r\n        });\r\n    });\r\n}\r\n\r\nexport default {\r\n    uploadSnippetImage,\r\n    uploadAnyImage,\r\n    updateSnippet\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar KontrlPopup = /** @class */ (function () {\r\n    function KontrlPopup(params) {\r\n        if (params === void 0) { params = {}; }\r\n        this.eventHandler = null;\r\n        this.id = params.id != null ? params.id : this.generateId();\r\n    }\r\n    KontrlPopup.prototype.show = function (eventHandler) {\r\n        this.eventHandler = eventHandler;\r\n        this.handleShow();\r\n    };\r\n    KontrlPopup.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    KontrlPopup.prototype.throwEvent = function (name, context) {\r\n        if (this.eventHandler == null)\r\n            return;\r\n        this.eventHandler(name, context);\r\n    };\r\n    /**\r\n     * Generates a random ID to uniquely identify this popup\r\n     */\r\n    KontrlPopup.prototype.generateId = function () {\r\n        return (Math.random() * 100000000).toString();\r\n    };\r\n    return KontrlPopup;\r\n}());\r\nexports.default = KontrlPopup;\r\n//# sourceMappingURL=Popup.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DefaultTemplate = /** @class */ (function () {\r\n    function DefaultTemplate(params, onClose) {\r\n        this.templateEl = document.createElement(\"div\");\r\n        this.templateEl.classList.add(\"kontrl-popup__default-template\");\r\n        if (params.withBG !== false) {\r\n            var bgEl = document.createElement(\"div\");\r\n            bgEl.classList.add(\"kontrl-popup__default-template__bg\");\r\n            bgEl.addEventListener(\"click\", function () { return onClose(); });\r\n            this.templateEl.appendChild(bgEl);\r\n        }\r\n        var boxEl = document.createElement(\"div\");\r\n        boxEl.classList.add(\"kontrl-popup__default-template__box\");\r\n        this.templateEl.appendChild(boxEl);\r\n        var closeButtonEl = document.createElement(\"div\");\r\n        closeButtonEl.classList.add(\"kontrl-popup__default-template__close\");\r\n        boxEl.appendChild(closeButtonEl);\r\n        closeButtonEl.addEventListener(\"click\", function () { return onClose(); });\r\n        var titleEl = document.createElement(\"div\");\r\n        titleEl.classList.add(\"kontrl-popup__default-template__title\");\r\n        titleEl.appendChild(document.createTextNode(params.title));\r\n        boxEl.appendChild(titleEl);\r\n        if (params.subTitle) {\r\n            var subTitleEl = document.createElement(\"div\");\r\n            subTitleEl.classList.add(\"kontrl-popup__default-template__sub-title\");\r\n            subTitleEl.appendChild(document.createTextNode(params.subTitle));\r\n            boxEl.appendChild(subTitleEl);\r\n        }\r\n        this.contentEl = document.createElement(\"div\");\r\n        this.contentEl.classList.add(\"kontrl-popup__default-template__content\");\r\n        boxEl.appendChild(this.contentEl);\r\n    }\r\n    DefaultTemplate.prototype.getTemplateEl = function () {\r\n        return this.templateEl;\r\n    };\r\n    DefaultTemplate.prototype.getContentEl = function () {\r\n        return this.contentEl;\r\n    };\r\n    DefaultTemplate.prototype.show = function () {\r\n        this.templateEl.classList.add(\"kontrl-popup__default-template--active\");\r\n    };\r\n    DefaultTemplate.prototype.hide = function () {\r\n        this.templateEl.classList.remove(\"kontrl-popup__default-template--active\");\r\n    };\r\n    return DefaultTemplate;\r\n}());\r\nexports.default = DefaultTemplate;\r\n//# sourceMappingURL=DefaultTemplate.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar DefaultTemplate_1 = __importDefault(require(\"../default_template/DefaultTemplate\"));\r\nvar Popup_1 = __importDefault(require(\"../Popup\"));\r\nvar GenericPopup = /** @class */ (function (_super) {\r\n    __extends(GenericPopup, _super);\r\n    function GenericPopup(params) {\r\n        var _this = _super.call(this) || this;\r\n        _this.params = params;\r\n        _this.items = params.items || [];\r\n        _this.template = new DefaultTemplate_1.default({ title: params.title, subTitle: params.subTitle, withBG: params.withBG }, function () {\r\n            _this.throwEvent(\"finish\");\r\n            _this.hide();\r\n        });\r\n        return _this;\r\n    }\r\n    GenericPopup.prototype.build = function () {\r\n        var _this = this;\r\n        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            var rowEl = document.createElement(\"div\");\r\n            rowEl.classList.add(\"kontlr-popup__generic__row\");\r\n            var itemEl = item.build();\r\n            rowEl.appendChild(itemEl);\r\n            this.template.getContentEl().appendChild(rowEl);\r\n        }\r\n        var footerEl = document.createElement(\"footer\");\r\n        footerEl.classList.add(\"kontrl-popup__generic__footer\");\r\n        this.template.getContentEl().appendChild(footerEl);\r\n        var submitEl = document.createElement(\"button\");\r\n        submitEl.classList.add(\"kontrl-popup__generic__button\");\r\n        submitEl.addEventListener(\"click\", function () {\r\n            _this.throwEvent(\"finish\", { content: _this.getFullContent() });\r\n            _this.hide();\r\n        });\r\n        submitEl.innerText = this.params.submitText || \"Submit\";\r\n        footerEl.appendChild(submitEl);\r\n        return this.template.getTemplateEl();\r\n    };\r\n    GenericPopup.prototype.handleShow = function () {\r\n        this.template.show();\r\n    };\r\n    GenericPopup.prototype.hide = function () {\r\n        this.template.hide();\r\n    };\r\n    GenericPopup.prototype.addItem = function (item) {\r\n        this.items.push(item);\r\n    };\r\n    GenericPopup.prototype.getFullContent = function () {\r\n        var content = {};\r\n        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            content[item.getName()] = item.getContent();\r\n        }\r\n        return content;\r\n    };\r\n    return GenericPopup;\r\n}(Popup_1.default));\r\nexports.default = GenericPopup;\r\n//# sourceMappingURL=GenericPopup.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GenericPopupItem = /** @class */ (function () {\r\n    function GenericPopupItem(params) {\r\n        this.params = params;\r\n    }\r\n    GenericPopupItem.prototype.build = function () {\r\n        var itemEl = document.createElement(\"div\");\r\n        itemEl.classList.add(\"kontrl-popup__generic__item\");\r\n        var labelEl = document.createElement(\"label\");\r\n        labelEl.classList.add(\"kontrl-popup__generic__label\");\r\n        labelEl.innerText = this.params.label;\r\n        labelEl.setAttribute(\"for\", this.params.id);\r\n        itemEl.appendChild(labelEl);\r\n        var itemContentEl = this.buildContent();\r\n        itemEl.appendChild(itemContentEl);\r\n        return itemEl;\r\n    };\r\n    GenericPopupItem.prototype.getLabel = function () {\r\n        return this.params.label;\r\n    };\r\n    GenericPopupItem.prototype.getId = function () {\r\n        return this.params.id;\r\n    };\r\n    GenericPopupItem.prototype.getName = function () {\r\n        return this.params.name;\r\n    };\r\n    return GenericPopupItem;\r\n}());\r\nexports.default = GenericPopupItem;\r\n//# sourceMappingURL=GenericPopupItem.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GenericPopupItem_1 = __importDefault(require(\"./GenericPopupItem\"));\r\nvar ImageItem = /** @class */ (function (_super) {\r\n    __extends(ImageItem, _super);\r\n    function ImageItem(params) {\r\n        var _this = _super.call(this, {\r\n            id: params.name,\r\n            name: params.name,\r\n            label: params.label\r\n        }) || this;\r\n        _this.value = null;\r\n        _this.previewEl = null;\r\n        _this.imageParams = params;\r\n        if (params.value) {\r\n            _this.value = params.value;\r\n        }\r\n        return _this;\r\n    }\r\n    ImageItem.prototype.buildContent = function () {\r\n        var _this = this;\r\n        var dropboxEl = document.createElement(\"div\");\r\n        dropboxEl.classList.add(\"kontrl-popup__generic__image-box\");\r\n        dropboxEl.id = this.getId();\r\n        if (this.imageParams.aspectRatio) {\r\n            var heightPercentage = 100 / this.imageParams.aspectRatio;\r\n            dropboxEl.style.paddingTop = heightPercentage + \"%\";\r\n        }\r\n        var textEl = document.createElement(\"p\");\r\n        textEl.appendChild(document.createTextNode(\"Change image\"));\r\n        textEl.classList.add(\"kontrl-popup__generic__image-text\");\r\n        dropboxEl.appendChild(textEl);\r\n        this.previewEl = document.createElement(\"img\");\r\n        this.previewEl.classList.add(\"kontrl-popup__generic__image-preview\");\r\n        dropboxEl.appendChild(this.previewEl);\r\n        if (this.value != null) {\r\n            this.previewImage(this.value);\r\n        }\r\n        var inputEl = document.createElement(\"input\");\r\n        inputEl.type = \"file\";\r\n        inputEl.classList.add(\"kontrl-popup__generic__image-input\");\r\n        inputEl.addEventListener(\"change\", function () {\r\n            var files = inputEl.files;\r\n            if (files == null || files.length === 0)\r\n                return;\r\n            _this.value = files[0];\r\n            _this.previewImage(_this.value);\r\n        });\r\n        dropboxEl.addEventListener(\"click\", function () { return inputEl.click(); });\r\n        return dropboxEl;\r\n    };\r\n    ImageItem.prototype.getContent = function () {\r\n        return this.value;\r\n    };\r\n    ImageItem.prototype.setValue = function (val) {\r\n        this.value = val;\r\n        this.previewImage(val);\r\n    };\r\n    ImageItem.prototype.previewImage = function (img) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var imgSrc;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.previewEl == null)\r\n                            return [2 /*return*/];\r\n                        if (!(img instanceof File)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, new Promise(function (resolve) {\r\n                                var reader = new FileReader();\r\n                                reader.onload = function () {\r\n                                    resolve(reader.result);\r\n                                };\r\n                                reader.readAsDataURL(img);\r\n                            })];\r\n                    case 1:\r\n                        imgSrc = _a.sent();\r\n                        this.previewEl.src = imgSrc;\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        this.previewEl.src = img;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        this.previewEl.classList.add(\"kontrl-popup__generic__image-preview--active\");\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return ImageItem;\r\n}(GenericPopupItem_1.default));\r\nexports.default = ImageItem;\r\n//# sourceMappingURL=ImageItem.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GenericPopupItem_1 = __importDefault(require(\"./GenericPopupItem\"));\r\nvar TextItem = /** @class */ (function (_super) {\r\n    __extends(TextItem, _super);\r\n    function TextItem(params) {\r\n        var _this = _super.call(this, {\r\n            name: params.name,\r\n            id: params.name,\r\n            label: params.label\r\n        }) || this;\r\n        _this.textItemParams = params;\r\n        _this.inputEl = document.createElement(\"input\");\r\n        return _this;\r\n    }\r\n    TextItem.prototype.buildContent = function () {\r\n        this.inputEl.classList.add(\"kontrl-popup__generic__input\");\r\n        this.inputEl.name = this.textItemParams.name;\r\n        this.inputEl.id = this.getId();\r\n        if (this.textItemParams.value) {\r\n            this.inputEl.value = this.textItemParams.value;\r\n        }\r\n        if (this.textItemParams.placeholder) {\r\n            this.inputEl.placeholder = this.textItemParams.placeholder;\r\n        }\r\n        if (this.textItemParams.type) {\r\n            this.inputEl.type = this.textItemParams.type;\r\n        }\r\n        return this.inputEl;\r\n    };\r\n    TextItem.prototype.getContent = function () {\r\n        return this.inputEl.value;\r\n    };\r\n    return TextItem;\r\n}(GenericPopupItem_1.default));\r\nexports.default = TextItem;\r\n//# sourceMappingURL=InputItem.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ImageItem = exports.InputItem = exports.GenericPopup = exports.destroy = exports.showPopup = exports.build = exports.isBuilt = void 0;\r\nvar GenericPopup_1 = __importDefault(require(\"./generic_popup/GenericPopup\"));\r\nvar InputItem_1 = __importDefault(require(\"./generic_popup/InputItem\"));\r\nvar ImageItem_1 = __importDefault(require(\"./generic_popup/ImageItem\"));\r\nfunction isBuilt(popup) {\r\n    var item = document.getElementById(popup.getId());\r\n    return item != null;\r\n}\r\nexports.isBuilt = isBuilt;\r\nfunction build(popup) {\r\n    if (isBuilt(popup))\r\n        return;\r\n    var wrapper = document.createElement(\"div\");\r\n    wrapper.id = popup.getId();\r\n    var builtPopup = popup.build();\r\n    wrapper.appendChild(builtPopup);\r\n    document.body.appendChild(wrapper);\r\n}\r\nexports.build = build;\r\nfunction showPopup(popup) {\r\n    return new Promise(function (resolve) {\r\n        build(popup);\r\n        popup.show(function (name, context) {\r\n            if (name === \"finish\") {\r\n                resolve(context);\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.showPopup = showPopup;\r\nfunction destroy(popup) {\r\n    var wrapper = document.getElementById(popup.getId());\r\n    if (wrapper) {\r\n        wrapper.remove();\r\n    }\r\n}\r\nexports.destroy = destroy;\r\nexports.GenericPopup = GenericPopup_1.default;\r\nexports.InputItem = InputItem_1.default;\r\nexports.ImageItem = ImageItem_1.default;\r\nexports.default = {\r\n    isBuilt: isBuilt,\r\n    build: build,\r\n    showPopup: showPopup,\r\n    destroy: destroy,\r\n    InputItem: InputItem_1.default,\r\n    GenericPopup: GenericPopup_1.default,\r\n    ImageItem: ImageItem_1.default\r\n};\r\n//# sourceMappingURL=popups.js.map","// extracted by mini-css-extract-plugin"],"sourceRoot":""}