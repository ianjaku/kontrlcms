!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=24)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.name=t.name}return t.prototype.getName=function(){return this.name},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.validator=e.validator||null,n.valueFromState=e.valueFromState||null,n}return r(e,t),e.prototype.validate=function(){if(null==this.validator)return[];var t=this.getValue();if(Array.isArray(this.validator))return this.validator.map(function(e){return e(t)}).filter(function(t){return null!=t});var e=this.validator(t);return null!=e?[e]:[]},e.prototype.getStateValue=function(t,e){return void 0===e&&(e=""),null==this.valueFromState?e:this.valueFromState(t)},e}(i(n(0)).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.V=e.Validation=e.items=e.CustomItem=e.TitleItem=e.FormItem=e.RulerItem=e.TextAreaItem=e.SidebarItem=e.InputItem=e.SidebarSet=e.Sidebar=void 0;var i=r(n(15)),o=r(n(14)),a=r(n(0)),u=r(n(13)),l=r(n(12)),s=r(n(11)),c=r(n(10)),d=r(n(9)),p=r(n(8)),f=r(n(7));e.Sidebar=i.default,e.SidebarSet=o.default,e.InputItem=u.default,e.SidebarItem=a.default,e.TextAreaItem=l.default,e.RulerItem=s.default,e.FormItem=c.default,e.TitleItem=d.default,e.CustomItem=p.default,e.items={InputItem:e.InputItem,SidebarItem:e.SidebarItem,TextAreaItem:e.TextAreaItem,RulerItem:e.RulerItem,FormItem:e.FormItem,TitleItem:e.TitleItem,CustomItem:e.CustomItem},e.Validation=f.default,e.V=f.default,e.default={Sidebar:e.Sidebar,SidebarSet:e.SidebarSet,InputItem:e.InputItem,SidebarItem:e.SidebarItem,TextAreaItem:e.TextAreaItem,RulerItem:e.RulerItem,FormItem:e.FormItem,TitleItem:e.TitleItem,CustomItem:e.CustomItem,items:e.items,Validation:e.Validation,V:e.Validation}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.value=e.value,n.forId=e.forId||"",n}return r(e,t),e.prototype.createElement=function(){var t=document.createElement("label");return t.classList.add("kontrl-sidebars__label"),this.forId&&(t.htmlFor=this.forId),t.innerText=this.value,[t]},e.prototype.getValue=function(){},e.forItem=function(t,n){return void 0===n&&(n={}),new e({name:t.getName()+"_label",value:n.value||this.capitalize(t.getName()),forId:n.forId})},e.capitalize=function(t){return t.trim().replace(/^\w/,function(t){return t.toUpperCase()})},e}(i(n(0)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.params=t}return t.prototype.build=function(){var t=document.createElement("div");t.classList.add("kontrl-popup__generic__item");var e=document.createElement("label");e.classList.add("kontrl-popup__generic__label"),e.innerText=this.params.label,e.setAttribute("for",this.params.id),t.appendChild(e);var n=this.buildContent();return t.appendChild(n),t},t.prototype.getLabel=function(){return this.params.label},t.prototype.getId=function(){return this.params.id},t.prototype.getName=function(){return this.params.name},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageItem=e.InputItem=e.GenericPopup=e.destroy=e.showPopup=e.build=e.isBuilt=void 0;var i=r(n(21)),o=r(n(18)),a=r(n(17));function u(t){return null!=document.getElementById(t.getId())}function l(t){if(!u(t)){var e=document.createElement("div");e.id=t.getId();var n=t.build();e.appendChild(n),document.body.appendChild(e)}}function s(t){return new Promise(function(e){l(t),t.show(function(t,n){"finish"===t&&e(n)})})}function c(t){var e=document.getElementById(t.getId());e&&e.remove()}e.isBuilt=u,e.build=l,e.showPopup=s,e.destroy=c,e.GenericPopup=i.default,e.InputItem=o.default,e.ImageItem=a.default,e.default={isBuilt:u,build:l,showPopup:s,destroy:c,InputItem:o.default,GenericPopup:i.default,ImageItem:a.default}},function(t,e,n){"use strict";n.r(e);n(23),n(22);var r=n(5),i=n.n(r);function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PAGE_NAME;return fetch("/simplecms/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:n,name:t,value:e})}).then(function(t){return t.json()})}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PAGE_NAME;return new Promise(function(r){var i=new FormData;i.append("file",e),i.append("page",n),i.append("name",t),fetch("/simplecms/upload",{method:"POST",body:i}).then(function(t){t.json().then(function(t){console.log("test2"),r(t.url)})}).catch(function(t){})})}function u(t,e){return new Promise(function(n){var r=new FormData;r.append("file",t),fetch("/simplecms/upload/".concat(e),{method:"POST",body:r}).then(function(t){t.json().then(function(t){n(t.url)})}).catch(function(t){})})}function l(t){var e=JSON.stringify(t),n=encodeURI(e);return fetch("/simplecms/snippets?snippets="+n).then(function(t){return t.json()})}n(16);var s=n(2),c=n.n(s),d=new s.SidebarSet;d.addToDOM();var p,f={sidebars:c.a,addSidebar:d.addSidebar.bind(d),addSidebars:d.addSidebars.bind(d)},m=new Uint8Array(16);var h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var _=function(t){return"string"==typeof t&&h.test(t)},v=[],b=0;b<256;++b)v.push((b+256).toString(16).substr(1));var y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(v[t[e+0]]+v[t[e+1]]+v[t[e+2]]+v[t[e+3]]+"-"+v[t[e+4]]+v[t[e+5]]+"-"+v[t[e+6]]+v[t[e+7]]+"-"+v[t[e+8]]+v[t[e+9]]+"-"+v[t[e+10]]+v[t[e+11]]+v[t[e+12]]+v[t[e+13]]+v[t[e+14]]+v[t[e+15]]).toLowerCase();if(!_(n))throw TypeError("Stringified UUID is invalid");return n};var E=function(t,e,n){var r=(t=t||{}).random||(t.rng||function(){if(!p&&!(p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(m)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return y(r)};function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w,I=!1,L={updateSnippet:o,uploadAnyImage:u,uploadSnippetImage:a,fetchSnippets:l,debounce:function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},addButtonRight:function(t){var e=document.querySelector(".simplecms__adminbar__user-buttons--right");if(null!=e){var n=document.createElement("button");return n.classList.add("simplecms__adminbar__button"),n.innerText=t,e.appendChild(n),n}},generateId:function(){return E().replace(/-/g,"")},sidebars:f.sidebars,addSidebar:f.addSidebar,addSidebars:f.addSidebars,popups:i.a,isEditing:function(){return I},pageName:PAGE_NAME},O=[],S=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(__KONTRL_ADMIN_PLUGINS);try{for(S.s();!(w=S.n()).done;){var x=w.value;O.push(new x(L))}}catch(t){S.e(t)}finally{S.f()}var P=function(){O.forEach(function(t){return t.enable()}),I=!0},k=function(){O.forEach(function(t){return t.disable()}),I=!1},j=document.querySelector(".simplecms__adminbar__button--edit"),T=document.querySelector(".simplecms__adminbar__button--save");j.addEventListener("click",function(){document.body.classList.add("simplecms--edit"),j.style.display="none",T.style.display="block",P()}),T.addEventListener("click",function(){document.body.classList.remove("simplecms--edit"),j.style.display="block",T.style.display="none",k()})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.exists=function(){var t="Field is required";return function(e){return null==e?t:"string"==typeof e&&""===e?t:null}},t.min=function(t){return function(e){return"string"==typeof e&&e.length>=t?"Field has a minimum of "+t+" characters":"number"==typeof e&&e>=t?"Field has a minimum value of "+t:e>=t?"Field has a minimum value of "+t:null}},t.max=function(t){return function(e){return"string"==typeof e&&e.length<=t?"Field has a minimum of "+t+" characters":"number"==typeof e&&e<=t?"Field has a minimum value of "+t:e<=t?"Field has a minimum value of "+t:null}},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.createElementFunc=e.createElement,n}return r(e,t),e.prototype.createElement=function(t){var e=this.createElementFunc(t);return Array.isArray(e)?e:[e]},e}(i(n(0)).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.value=e.value,n.subTitle=e.subTitle||null,n}return r(e,t),e.prototype.createElement=function(){var t=document.createElement("h1");t.classList.add("kontrl-sidebars__title__title"),t.innerText=this.value;var e=[t];if(null!=this.subTitle){var n=document.createElement("p");n.classList.add("kontrl-sidebars__title__sub"),n.innerText=this.subTitle,e.push(n)}return e},e.prototype.getValue=function(){},e}(i(n(0)).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(0)),a=i(n(1)),u=function(t){function e(e){var n=t.call(this,e)||this;return n.formEl=null,n.submitButtonEl=null,n.items=e.items,n.onSubmit=e.onSubmit,n.submitText=e.submitText||"Save",n.altButtonText=e.altButtonText||null,n.onAltButton=e.onAltButton||null,n}return r(e,t),e.prototype.createElement=function(t){var e=this;this.state=t;var n=document.createElement("form");this.formEl=n,n.classList.add("kontrl-sidebars__form"),n.addEventListener("submit",function(t){t.preventDefault(),t.stopPropagation(),e.handleSubmit()}),this.items.forEach(function(e){var r=document.createElement("div");r.classList.add("kontrl-sidebars__form__row"),r.append.apply(r,e.createElement(t)),n.append(r)});var r=document.createElement("div");r.classList.add("kontrl-sidebars__form__buttons"),n.append(r);var i=document.createElement("button");this.submitButtonEl=i,i.classList.add("kontrl-sidebars__form__button"),i.type="submit",i.innerHTML=this.submitText,r.append(i);var o=this.onAltButton;if(null!=o){var a=document.createElement("button");a.classList.add("kontrl-sidebars__form__button"),a.classList.add("kontrl-sidebars__form__button--alt"),a.type="button",a.innerHTML=this.altButtonText||"Clear",a.addEventListener("click",function(){var t=e.getValue();if(null!=t){var n=o(t,e.validate.bind(e),e.state);null!=n&&e.buttonLoadingAnimation(a,Promise.resolve(n))}}),r.append(a)}return[n]},e.prototype.getValue=function(){return null==this.formEl?null:this.items.reduce(function(t,e){return e instanceof a.default&&(t[e.getName()]=e.getValue()),t},{})},e.prototype.handleSubmit=function(){var t=this.getValue();if(null!=t){var e=this.onSubmit(t,this.validate.bind(this),this.state);null!=e&&null!=this.submitButtonEl&&this.buttonLoadingAnimation(this.submitButtonEl,Promise.resolve(e))}},e.prototype.buttonLoadingAnimation=function(t,e){t.disabled=!0,t.classList.add("kontrl-sidebars__form__button--loading"),e.then(function(){t.disabled=!1,t.classList.remove("kontrl-sidebars__form__button--loading"),t.classList.add("kontrl-sidebars__form__button--finished"),setTimeout(function(){t.classList.remove("kontrl-sidebars__form__button--finished")},500)})},e.prototype.validate=function(){var t=this.items.reduce(function(t,e){if(e instanceof a.default){var n=e.validate();0!==n.length&&t.push({errors:n,name:e.getName()})}return t},[]);return this.showValidationErrors(t),t},e.prototype.showValidationErrors=function(t){this.items.forEach(function(e){var n=e.getName(),r=t.find(function(t){return t.name===n});e instanceof a.default&&e.showErrors((null===r||void 0===r?void 0:r.errors)||[])})},e}(o.default);e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("kontrl-sidebars__ruler"),[t]},e.prototype.getValue=function(){},e}(i(n(0)).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),a=function(t){function e(e){var n=t.call(this,e)||this;return n.textareaEl=null,n.wrapperEl=null,n.label=o.default.forItem(n,{value:e.label}),n.id=e.id||null,n}return r(e,t),e.prototype.createElement=function(t){this.textareaEl=document.createElement("textarea"),this.textareaEl.classList.add("kontrl-sidebars__textarea-item__area"),this.textareaEl.value=this.getStateValue(t,""),null!=this.id&&(this.textareaEl.id=this.id);var e=document.createElement("div");return this.wrapperEl=e,e.classList.add("kontrl-sidebars__textarea-item"),e.append.apply(e,this.label.createElement()),e.append(this.textareaEl),[e]},e.prototype.getValue=function(){return null==this.textareaEl?null:this.textareaEl.value},e.prototype.setValue=function(t){null!=this.textareaEl&&(this.textareaEl.value=t)},e.prototype.showErrors=function(t){if(null!=this.wrapperEl){var e=this.wrapperEl.querySelector(".kontrl-sidebars__textarea-item__error");0!==t.length?(null==e&&((e=document.createElement("div")).classList.add("kontrl-sidebars__textarea-item__error"),this.wrapperEl.append(e)),e.innerHTML=t[0]):null!=e&&e.remove()}},e}(i(n(1)).default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(3)),a=function(t){function e(e){var n=t.call(this,e)||this;return n.inputEl=null,n.wrapperEl=null,n.type=e.type||"text",n.label=o.default.forItem(n,{value:e.label}),n.id=e.id||null,n}return r(e,t),e.prototype.createElement=function(t){this.inputEl=document.createElement("input"),this.inputEl.classList.add("kontrl-sidebars__input-item__input"),this.inputEl.type=this.type,this.inputEl.value=this.getStateValue(t,""),null!=this.id&&(this.inputEl.id=this.id);var e=document.createElement("div");return this.wrapperEl=e,e.classList.add("kontrl-sidebars__input-item"),e.append.apply(e,this.label.createElement()),e.append(this.inputEl),[e]},e.prototype.getValue=function(){return null==this.inputEl?null:this.inputEl.value},e.prototype.setValue=function(t){null!=this.inputEl&&(this.inputEl.value=t)},e.prototype.showErrors=function(t){if(null!=this.wrapperEl){var e=this.wrapperEl.querySelector(".kontrl-sidebars__input-item__error");0!==t.length?(null==e&&((e=document.createElement("div")).classList.add("kontrl-sidebars__input-item__error"),this.wrapperEl.append(e)),e.innerHTML=t[0]):null!=e&&e.remove()}},e}(i(n(1)).default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.sidebars=[],this.activeSidebar=null,this.setEl=document.createElement("div"),this.setEl.classList.add("kontrl-sidebars");var e=document.createElement("div");e.classList.add("kontrl-sidebars__bg"),e.addEventListener("click",function(){t.hideSidebar()}),this.setEl.append(e),this.sidebarWrapperEl=document.createElement("div"),this.sidebarWrapperEl.classList.add("kontrl-sidebars__sidebar-wrapper"),this.setEl.append(this.sidebarWrapperEl),this.menuEl=document.createElement("div"),this.menuEl.classList.add("kontrl-sidebars__menu"),this.setEl.appendChild(this.menuEl)}return t.prototype.addSidebar=function(t){this.sidebars.push(t),this.update()},t.prototype.addSidebars=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this.sidebars).push.apply(t,e),this.update()},t.prototype.addToDOM=function(t){void 0===t&&(t=document.body),t.append(this.setEl)},t.prototype.update=function(){var t,e=this.createMenuEls();this.menuEl.innerHTML="",(t=this.menuEl).append.apply(t,e)},t.prototype.show=function(){this.setEl.classList.remove("kontrl-sidebars--hidden")},t.prototype.hide=function(){this.setEl.classList.add("kontrl-sidebars--hidden")},t.prototype.destroy=function(){this.setEl.remove()},t.prototype.showSidebar=function(t){this.sidebarWrapperEl.innerHTML="",this.sidebarWrapperEl.append(t.createElement()),this.setEl.classList.remove("kontrl-sidebars--inactive"),this.setEl.classList.add("kontrl-sidebars--active"),this.activeSidebar=t},t.prototype.hideSidebar=function(){this.setEl.classList.remove("kontrl-sidebars--active"),this.setEl.classList.add("kontrl-sidebars--inactive"),this.activeSidebar=null,this.hideMenuElActives()},t.prototype.createMenuEls=function(){var t=this,e=document.createElement("div");e.classList.add("kontrl-sidebars__collapser"),e.innerHTML=this.collapserIcon(),e.addEventListener("click",function(){null==t.activeSidebar?t.menuEl.classList.toggle("kontrl-sidebars__menu--hidden"):t.hideSidebar()});var n=this.sidebars.map(function(e){var n=e.createIconElement(),r=document.createElement("div");return r.classList.add("kontrl-sidebars__menu-item"),r.append(n),r.addEventListener("click",function(){t.activeSidebar===e?t.hideSidebar():(t.showSidebar(e),t.hideMenuElActives(),r.classList.add("kontrl-sidebars__menu-item--active"))}),r});return r([e],n)},t.prototype.collapserIcon=function(){return'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-left" class="svg-inline--fa fa-angle-left fa-w-8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><path fill="currentColor" d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"></path></svg>'},t.prototype.hideMenuElActives=function(){this.menuEl.querySelectorAll(".kontrl-sidebars__menu-item").forEach(function(t){t.classList.remove("kontrl-sidebars__menu-item--active")})},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.icon=t.icon,this.items=t.items,this.initState=t.initState||null}return t.prototype.createElement=function(){var t=this,e=document.createElement("div");if(e.classList.add("kontrl-sidebars__sidebar"),null!=this.initState){var n=this.createLoadingEl();e.append(n),Promise.resolve(this.initState()).then(function(r){n.remove(),t.addItemsTo(e,r)})}else this.addItemsTo(e);return e},t.prototype.createIconElement=function(){if("string"==typeof this.icon){var t=document.createElement("div");return t.innerHTML=this.icon,t}return this.icon},t.prototype.createLoadingEl=function(){var t=document.createElement("div");return t.classList.add("kontrl-sidebars__loader"),t.innerHTML='\n    <svg width="50" height="50" viewBox="0 0 50 50">\n        <path fill="#1E77F2" d="M25,5A20.14,20.14,0,0,1,45,22.88a2.51,2.51,0,0,0,2.49,2.26h0A2.52,2.52,0,0,0,50,22.33a25.14,25.14,0,0,0-50,0,2.52,2.52,0,0,0,2.5,2.81h0A2.51,2.51,0,0,0,5,22.88,20.14,20.14,0,0,1,25,5Z"></path>\n    </svg>\n    ',t},t.prototype.addItemsTo=function(t,e){this.items.forEach(function(n){t.append.apply(t,n.createElement(e))})},t}();e.default=r},function(t,e,n){},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function u(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(a,u)}l((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(e){var n=t.call(this,{id:e.name,name:e.name,label:e.label})||this;return n.value=null,n.previewEl=null,n.imageParams=e,e.value&&(n.value=e.value),n}return r(e,t),e.prototype.buildContent=function(){var t=this,e=document.createElement("div");if(e.classList.add("kontrl-popup__generic__image-box"),e.id=this.getId(),this.imageParams.aspectRatio){var n=100/this.imageParams.aspectRatio;e.style.paddingTop=n+"%"}var r=document.createElement("p");r.appendChild(document.createTextNode("Change image")),r.classList.add("kontrl-popup__generic__image-text"),e.appendChild(r),this.previewEl=document.createElement("img"),this.previewEl.classList.add("kontrl-popup__generic__image-preview"),e.appendChild(this.previewEl),null!=this.value&&this.previewImage(this.value);var i=document.createElement("input");return i.type="file",i.classList.add("kontrl-popup__generic__image-input"),i.addEventListener("change",function(){var e=i.files;null!=e&&0!==e.length&&(t.value=e[0],t.previewImage(t.value))}),e.addEventListener("click",function(){return i.click()}),e},e.prototype.getContent=function(){return this.value},e.prototype.setValue=function(t){this.value=t,this.previewImage(t)},e.prototype.previewImage=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return null==this.previewEl?[2]:t instanceof File?[4,new Promise(function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsDataURL(t)})]:[3,2];case 1:return e=n.sent(),this.previewEl.src=e,[3,3];case 2:this.previewEl.src=t,n.label=3;case 3:return this.previewEl.classList.add("kontrl-popup__generic__image-preview--active"),[2]}})})},e}(a(n(4)).default);e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,{name:e.name,id:e.name,label:e.label})||this;return n.textItemParams=e,n.inputEl=document.createElement("input"),n}return r(e,t),e.prototype.buildContent=function(){return this.inputEl.classList.add("kontrl-popup__generic__input"),this.inputEl.name=this.textItemParams.name,this.inputEl.id=this.getId(),this.textItemParams.value&&(this.inputEl.value=this.textItemParams.value),this.textItemParams.placeholder&&(this.inputEl.placeholder=this.textItemParams.placeholder),this.textItemParams.type&&(this.inputEl.type=this.textItemParams.type),this.inputEl},e.prototype.getContent=function(){return this.inputEl.value},e}(i(n(4)).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){void 0===t&&(t={}),this.eventHandler=null,this.id=null!=t.id?t.id:this.generateId()}return t.prototype.show=function(t){this.eventHandler=t,this.handleShow()},t.prototype.getId=function(){return this.id},t.prototype.throwEvent=function(t,e){null!=this.eventHandler&&this.eventHandler(t,e)},t.prototype.generateId=function(){return(1e8*Math.random()).toString()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){if(this.templateEl=document.createElement("div"),this.templateEl.classList.add("kontrl-popup__default-template"),!1!==t.withBG){var n=document.createElement("div");n.classList.add("kontrl-popup__default-template__bg"),n.addEventListener("click",function(){return e()}),this.templateEl.appendChild(n)}var r=document.createElement("div");r.classList.add("kontrl-popup__default-template__box"),this.templateEl.appendChild(r);var i=document.createElement("div");i.classList.add("kontrl-popup__default-template__close"),r.appendChild(i),i.addEventListener("click",function(){return e()});var o=document.createElement("div");if(o.classList.add("kontrl-popup__default-template__title"),o.appendChild(document.createTextNode(t.title)),r.appendChild(o),t.subTitle){var a=document.createElement("div");a.classList.add("kontrl-popup__default-template__sub-title"),a.appendChild(document.createTextNode(t.subTitle)),r.appendChild(a)}this.contentEl=document.createElement("div"),this.contentEl.classList.add("kontrl-popup__default-template__content"),r.appendChild(this.contentEl)}return t.prototype.getTemplateEl=function(){return this.templateEl},t.prototype.getContentEl=function(){return this.contentEl},t.prototype.show=function(){this.templateEl.classList.add("kontrl-popup__default-template--active")},t.prototype.hide=function(){this.templateEl.classList.remove("kontrl-popup__default-template--active")},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(20)),a=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.items=e.items||[],n.template=new o.default({title:e.title,subTitle:e.subTitle,withBG:e.withBG},function(){n.throwEvent("finish"),n.hide()}),n}return r(e,t),e.prototype.build=function(){for(var t=this,e=0,n=this.items;e<n.length;e++){var r=n[e],i=document.createElement("div");i.classList.add("kontlr-popup__generic__row");var o=r.build();i.appendChild(o),this.template.getContentEl().appendChild(i)}var a=document.createElement("footer");a.classList.add("kontrl-popup__generic__footer"),this.template.getContentEl().appendChild(a);var u=document.createElement("button");return u.classList.add("kontrl-popup__generic__button"),u.addEventListener("click",function(){t.throwEvent("finish",{content:t.getFullContent()}),t.hide()}),u.innerText=this.params.submitText||"Submit",a.appendChild(u),this.template.getTemplateEl()},e.prototype.handleShow=function(){this.template.show()},e.prototype.hide=function(){this.template.hide()},e.prototype.addItem=function(t){this.items.push(t)},e.prototype.getFullContent=function(){for(var t={},e=0,n=this.items;e<n.length;e++){var r=n[e];t[r.getName()]=r.getContent()}return t},e}(i(n(19)).default);e.default=a},function(t,e,n){},function(t,e,n){},function(t,e,n){t.exports=n(6)}]);